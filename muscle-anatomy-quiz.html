<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Complete Extremity Muscle Anatomy Study Chart</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            transition: background 0.3s ease;
        }

        body.upper-extremity {
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 25px 50px rgba(0,0,0,0.15);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
            color: white;
            padding: 40px;
            text-align: center;
            transition: background 0.3s ease;
        }

        .header.upper-extremity {
            background: linear-gradient(135deg, #c0392b 0%, #e74c3c 100%);
        }

        .header h1 {
            font-size: 3em;
            font-weight: 300;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .tab-system {
            background: #f8f9fa;
            padding: 0;
            border-bottom: 1px solid #dee2e6;
        }

        .tab-buttons {
            display: flex;
            max-width: 1400px;
            margin: 0 auto;
        }

        .tab-btn {
            flex: 1;
            background: #f8f9fa;
            color: #6c757d;
            border: none;
            padding: 20px 30px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            border-bottom: 4px solid transparent;
        }

        .tab-btn:hover {
            background: #e9ecef;
            color: #495057;
        }

        .tab-btn.active {
            background: white;
            color: #2c3e50;
            border-bottom: 4px solid #3498db;
        }

        .tab-btn.active.upper-extremity {
            color: #c0392b;
            border-bottom: 4px solid #e74c3c;
        }

        .controls {
            padding: 30px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-bottom: 1px solid #dee2e6;
            text-align: center;
        }

        .btn {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            border: none;
            padding: 15px 30px;
            margin: 0 15px;
            border-radius: 30px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.3);
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(52, 152, 219, 0.4);
        }

        .btn.upper-extremity {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            box-shadow: 0 5px 15px rgba(231, 76, 60, 0.3);
        }

        .btn.upper-extremity:hover {
            box-shadow: 0 8px 25px rgba(231, 76, 60, 0.4);
        }

        .btn.reveal-all {
            background: linear-gradient(135deg, #27ae60, #219a52);
            box-shadow: 0 5px 15px rgba(39, 174, 96, 0.3);
        }

        .btn.reveal-all:hover {
            box-shadow: 0 8px 25px rgba(39, 174, 96, 0.4);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .region {
            margin: 40px;
        }

        .region-title {
            font-size: 2.5em;
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 30px;
            text-align: center;
            position: relative;
            padding-bottom: 15px;
        }

        .region-title.upper-extremity {
            color: #c0392b;
        }

        .region-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 4px;
            background: linear-gradient(135deg, #3498db, #2980b9);
            border-radius: 2px;
        }

        .region-title.upper-extremity::after {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
        }

        .muscle-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            margin-top: 30px;
        }

        .muscle-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        .muscle-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
        }

        .muscle-image-container {
            position: relative;
            height: 280px;
            overflow: hidden;
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .muscle-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .muscle-card:hover .muscle-image {
            transform: scale(1.05);
        }

        .placeholder-image {
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #3498db, #2980b9);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 16px;
            font-weight: 600;
            text-align: center;
            padding: 20px;
            border-radius: 8px;
        }

        .placeholder-image.upper-extremity {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
        }

        .image-source {
            position: absolute;
            bottom: 5px;
            right: 5px;
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 10px;
        }

        .muscle-content {
            padding: 25px;
        }

        .muscle-name {
            font-size: 1.5em;
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 20px;
            text-align: center;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
        }

        .muscle-name.upper-extremity {
            color: #c0392b;
            border-bottom: 3px solid #e74c3c;
        }

        .muscle-details {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .detail-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 12px 0;
            border-bottom: 1px solid #ecf0f1;
        }

        .detail-label {
            font-weight: 600;
            color: #34495e;
            min-width: 80px;
            display: flex;
            align-items: center;
        }

        .detail-label::before {
            content: '';
            width: 8px;
            height: 8px;
            background: #3498db;
            border-radius: 50%;
            margin-right: 10px;
        }

        .detail-label.upper-extremity::before {
            background: #e74c3c;
        }

        .detail-content {
            flex: 1;
            margin: 0 15px;
            padding: 8px 15px;
            background: #f8f9fa;
            border-radius: 8px;
            min-height: 35px;
            display: flex;
            align-items: center;
            transition: all 0.3s ease;
            font-size: 14px;
        }

        .detail-content.hidden {
            background: #e9ecef;
            color: #6c757d;
            font-style: italic;
        }

        .detail-content.revealed {
            background: linear-gradient(135deg, #d5e8d4, #c8e6c9);
            color: #2e7d32;
            font-weight: 500;
        }

        .reveal-btn {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 12px;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 3px 10px rgba(231, 76, 60, 0.3);
        }

        .reveal-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(231, 76, 60, 0.4);
        }

        .reveal-btn.revealed {
            background: linear-gradient(135deg, #27ae60, #219a52);
            box-shadow: 0 3px 10px rgba(39, 174, 96, 0.3);
        }

        @media (max-width: 768px) {
            .muscle-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .region-title {
                font-size: 2em;
            }
            
            .btn {
                margin: 5px;
                padding: 12px 20px;
                font-size: 14px;
            }

            .tab-btn {
                padding: 15px 20px;
                font-size: 16px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header" id="main-header">
            <h1 id="main-title">Complete Extremity Muscle Anatomy</h1>
            <p id="main-subtitle">Interactive study guide for upper and lower extremity muscles</p>
        </div>
        
        <div class="tab-system">
            <div class="tab-buttons">
                <button class="tab-btn active" onclick="switchTab('lower')">🦵 Lower Extremity</button>
                <button class="tab-btn" onclick="switchTab('upper')">💪 Upper Extremity</button>
            </div>
        </div>
        
        <div class="controls">
            <button class="btn" id="hide-btn" onclick="hideAllAnswers()">Hide All Answers</button>
            <button class="btn reveal-all" onclick="revealAllAnswers()">Reveal All Answers</button>
        </div>
        
        <!-- Lower Extremity Content -->
        <div id="lower-content" class="tab-content active">
            <div class="region">
                <h2 class="region-title">Gluteal Region</h2>
                <div class="muscle-grid" id="gluteal-muscles"></div>
            </div>
            
            <div class="region">
                <h2 class="region-title">Thigh Region</h2>
                <div class="muscle-grid" id="thigh-muscles"></div>
            </div>
            
            <div class="region">
                <h2 class="region-title">Leg Region</h2>
                <div class="muscle-grid" id="leg-muscles"></div>
            </div>
            
            <div class="region">
                <h2 class="region-title">Foot Region</h2>
                <div class="muscle-grid" id="foot-muscles"></div>
            </div>
        </div>

        <!-- Upper Extremity Content -->
        <div id="upper-content" class="tab-content">
            <div class="region">
                <h2 class="region-title">Shoulder & Scapular Muscles</h2>
                <div class="muscle-grid" id="shoulder-muscles"></div>
            </div>
            
            <div class="region">
                <h2 class="region-title">Arm Muscles</h2>
                <div class="muscle-grid" id="arm-muscles"></div>
            </div>
            
            <div class="region">
                <h2 class="region-title">Forearm Muscles</h2>
                <div class="muscle-grid" id="forearm-muscles"></div>
            </div>
            
            <div class="region">
                <h2 class="region-title">Hand Muscles</h2>
                <div class="muscle-grid" id="hand-muscles"></div>
            </div>
        </div>
    </div>

    <script>
        let currentTab = 'lower';

        const lowerExtremityData = {
            gluteal: [
                {
                    name: "Gluteus Maximus",
                    nerve: "Inferior gluteal nerve",
                    roots: "L5, S1, S2",
                    actions: "Hip extension, lateral rotation, upper fibers assist in abduction"
                },
                {
                    name: "Gluteus Medius",
                    nerve: "Superior gluteal nerve",
                    roots: "L4, L5, S1",
                    actions: "Hip abduction, medial rotation (anterior fibers), lateral rotation (posterior fibers)"
                },
                {
                    name: "Gluteus Minimus",
                    nerve: "Superior gluteal nerve",
                    roots: "L4, L5, S1",
                    actions: "Hip abduction, medial rotation, stabilizes pelvis"
                },
                {
                    name: "Tensor Fasciae Latae",
                    nerve: "Superior gluteal nerve",
                    roots: "L4, L5, S1",
                    actions: "Hip flexion, abduction, medial rotation, stabilizes IT band"
                },
                {
                    name: "Piriformis",
                    nerve: "Nerve to piriformis",
                    roots: "S1, S2",
                    actions: "Hip lateral rotation, abduction when hip is flexed"
                },
                {
                    name: "Superior Gemellus",
                    nerve: "Nerve to obturator internus",
                    roots: "L5, S1",
                    actions: "Hip lateral rotation"
                },
                {
                    name: "Obturator Internus",
                    nerve: "Nerve to obturator internus",
                    roots: "L5, S1",
                    actions: "Hip lateral rotation"
                },
                {
                    name: "Inferior Gemellus",
                    nerve: "Nerve to quadratus femoris",
                    roots: "L5, S1",
                    actions: "Hip lateral rotation"
                },
                {
                    name: "Quadratus Femoris",
                    nerve: "Nerve to quadratus femoris",
                    roots: "L5, S1",
                    actions: "Hip lateral rotation, adduction"
                },
                {
                    name: "Obturator Externus",
                    nerve: "Obturator nerve",
                    roots: "L3, L4",
                    actions: "Hip lateral rotation"
                }
            ],
            thigh: [
                {
                    name: "Rectus Femoris",
                    nerve: "Femoral nerve",
                    roots: "L2, L3, L4",
                    actions: "Hip flexion, knee extension"
                },
                {
                    name: "Vastus Lateralis",
                    nerve: "Femoral nerve",
                    roots: "L2, L3, L4",
                    actions: "Knee extension"
                },
                {
                    name: "Vastus Medialis",
                    nerve: "Femoral nerve",
                    roots: "L2, L3, L4",
                    actions: "Knee extension, stabilizes patella"
                },
                {
                    name: "Vastus Intermedius",
                    nerve: "Femoral nerve",
                    roots: "L2, L3, L4",
                    actions: "Knee extension"
                },
                {
                    name: "Sartorius",
                    nerve: "Femoral nerve",
                    roots: "L2, L3",
                    actions: "Hip flexion, abduction, lateral rotation; knee flexion"
                },
                {
                    name: "Iliopsoas (Psoas Major)",
                    nerve: "Branches from lumbar plexus",
                    roots: "L1, L2, L3",
                    actions: "Hip flexion, trunk flexion"
                },
                {
                    name: "Iliopsoas (Iliacus)",
                    nerve: "Femoral nerve",
                    roots: "L2, L3",
                    actions: "Hip flexion"
                },
                {
                    name: "Pectineus",
                    nerve: "Femoral nerve (sometimes obturator)",
                    roots: "L2, L3",
                    actions: "Hip flexion, adduction"
                },
                {
                    name: "Adductor Longus",
                    nerve: "Obturator nerve",
                    roots: "L2, L3, L4",
                    actions: "Hip adduction, flexion"
                },
                {
                    name: "Adductor Brevis",
                    nerve: "Obturator nerve",
                    roots: "L2, L3, L4",
                    actions: "Hip adduction, flexion"
                },
                {
                    name: "Adductor Magnus",
                    nerve: "Obturator nerve (adductor part), sciatic nerve (hamstring part)",
                    roots: "L2, L3, L4 (obturator); L4, L5, S1 (sciatic)",
                    actions: "Hip adduction, extension (posterior fibers)"
                },
                {
                    name: "Gracilis",
                    nerve: "Obturator nerve",
                    roots: "L2, L3",
                    actions: "Hip adduction, knee flexion"
                },
                {
                    name: "Biceps Femoris (Long Head)",
                    nerve: "Sciatic nerve (tibial division)",
                    roots: "L5, S1, S2",
                    actions: "Hip extension, knee flexion, lateral rotation"
                },
                {
                    name: "Biceps Femoris (Short Head)",
                    nerve: "Sciatic nerve (common fibular division)",
                    roots: "L5, S1, S2",
                    actions: "Knee flexion, lateral rotation"
                },
                {
                    name: "Semitendinosus",
                    nerve: "Sciatic nerve (tibial division)",
                    roots: "L5, S1, S2",
                    actions: "Hip extension, knee flexion, medial rotation"
                },
                {
                    name: "Semimembranosus",
                    nerve: "Sciatic nerve (tibial division)",
                    roots: "L5, S1, S2",
                    actions: "Hip extension, knee flexion, medial rotation"
                }
            ],
            leg: [
                {
                    name: "Tibialis Anterior",
                    nerve: "Deep fibular nerve",
                    roots: "L4, L5",
                    actions: "Ankle dorsiflexion, foot inversion"
                },
                {
                    name: "Extensor Digitorum Longus",
                    nerve: "Deep fibular nerve",
                    roots: "L5, S1",
                    actions: "Toe extension, ankle dorsiflexion"
                },
                {
                    name: "Extensor Hallucis Longus",
                    nerve: "Deep fibular nerve",
                    roots: "L5, S1",
                    actions: "Great toe extension, ankle dorsiflexion"
                },
                {
                    name: "Fibularis Tertius",
                    nerve: "Deep fibular nerve",
                    roots: "L5, S1",
                    actions: "Ankle dorsiflexion, foot eversion"
                },
                {
                    name: "Fibularis Longus",
                    nerve: "Superficial fibular nerve",
                    roots: "L5, S1, S2",
                    actions: "Foot eversion, ankle plantarflexion"
                },
                {
                    name: "Fibularis Brevis",
                    nerve: "Superficial fibular nerve",
                    roots: "L5, S1, S2",
                    actions: "Foot eversion, ankle plantarflexion"
                },
                {
                    name: "Gastrocnemius",
                    nerve: "Tibial nerve",
                    roots: "S1, S2",
                    actions: "Ankle plantarflexion, knee flexion"
                },
                {
                    name: "Soleus",
                    nerve: "Tibial nerve",
                    roots: "S1, S2",
                    actions: "Ankle plantarflexion"
                },
                {
                    name: "Plantaris",
                    nerve: "Tibial nerve",
                    roots: "S1, S2",
                    actions: "Ankle plantarflexion, knee flexion"
                },
                {
                    name: "Popliteus",
                    nerve: "Tibial nerve",
                    roots: "L4, L5, S1",
                    actions: "Knee flexion, unlocks knee, tibial medial rotation"
                },
                {
                    name: "Tibialis Posterior",
                    nerve: "Tibial nerve",
                    roots: "L4, L5",
                    actions: "Ankle plantarflexion, foot inversion"
                },
                {
                    name: "Flexor Digitorum Longus",
                    nerve: "Tibial nerve",
                    roots: "S2, S3",
                    actions: "Toe flexion, ankle plantarflexion, foot inversion"
                },
                {
                    name: "Flexor Hallucis Longus",
                    nerve: "Tibial nerve",
                    roots: "S2, S3",
                    actions: "Great toe flexion, ankle plantarflexion"
                }
            ],
            foot: [
                {
                    name: "Extensor Digitorum Brevis",
                    nerve: "Deep fibular nerve",
                    roots: "L5, S1",
                    actions: "Extension of toes 2-4"
                },
                {
                    name: "Extensor Hallucis Brevis",
                    nerve: "Deep fibular nerve",
                    roots: "L5, S1",
                    actions: "Great toe extension"
                },
                {
                    name: "Abductor Hallucis",
                    nerve: "Medial plantar nerve",
                    roots: "S2, S3",
                    actions: "Great toe abduction, flexion"
                },
                {
                    name: "Flexor Digitorum Brevis",
                    nerve: "Medial plantar nerve",
                    roots: "S2, S3",
                    actions: "Flexion of toes 2-5"
                },
                {
                    name: "Abductor Digiti Minimi",
                    nerve: "Lateral plantar nerve",
                    roots: "S2, S3",
                    actions: "5th toe abduction, flexion"
                },
                {
                    name: "Quadratus Plantae",
                    nerve: "Lateral plantar nerve",
                    roots: "S2, S3",
                    actions: "Assists flexor digitorum longus"
                },
                {
                    name: "Lumbricals (1st)",
                    nerve: "Medial plantar nerve",
                    roots: "S2, S3",
                    actions: "MTP flexion, IP extension of 2nd toe"
                },
                {
                    name: "Lumbricals (2nd-4th)",
                    nerve: "Lateral plantar nerve",
                    roots: "S2, S3",
                    actions: "MTP flexion, IP extension of toes 3-5"
                },
                {
                    name: "Flexor Hallucis Brevis",
                    nerve: "Medial plantar nerve",
                    roots: "S2, S3",
                    actions: "Great toe flexion"
                },
                {
                    name: "Adductor Hallucis",
                    nerve: "Lateral plantar nerve",
                    roots: "S2, S3",
                    actions: "Great toe adduction"
                },
                {
                    name: "Flexor Digiti Minimi Brevis",
                    nerve: "Lateral plantar nerve",
                    roots: "S2, S3",
                    actions: "5th toe flexion"
                },
                {
                    name: "Plantar Interossei (3 muscles)",
                    nerve: "Lateral plantar nerve",
                    roots: "S2, S3",
                    actions: "Toe adduction toward 2nd toe"
                },
                {
                    name: "Dorsal Interossei (4 muscles)",
                    nerve: "Lateral plantar nerve",
                    roots: "S2, S3",
                    actions: "Toe abduction from 2nd toe"
                }
            ]
        };

        const upperExtremityData = {
            shoulder: [
                {
                    name: "Trapezius (Upper)",
                    nerve: "Accessory nerve (XI) + C3, C4",
                    roots: "C3, C4",
                    cords: "N/A (cranial nerve)",
                    actions: "Elevates scapula, upward rotation, extends neck"
                },
                {
                    name: "Trapezius (Middle)",
                    nerve: "Accessory nerve (XI) + C3, C4",
                    roots: "C3, C4",
                    cords: "N/A (cranial nerve)",
                    actions: "Retracts scapula, stabilizes scapula"
                },
                {
                    name: "Trapezius (Lower)",
                    nerve: "Accessory nerve (XI) + C3, C4",
                    roots: "C3, C4",
                    cords: "N/A (cranial nerve)",
                    actions: "Depresses scapula, upward rotation"
                },
                {
                    name: "Rhomboid Major",
                    nerve: "Dorsal scapular nerve",
                    roots: "C5",
                    cords: "From nerve roots (pre-plexus)",
                    actions: "Retracts scapula, downward rotation, elevates scapula"
                },
                {
                    name: "Rhomboid Minor",
                    nerve: "Dorsal scapular nerve",
                    roots: "C5",
                    cords: "From nerve roots (pre-plexus)",
                    actions: "Retracts scapula, downward rotation, elevates scapula"
                },
                {
                    name: "Levator Scapulae",
                    nerve: "Dorsal scapular nerve + C3, C4",
                    roots: "C3, C4, C5",
                    cords: "From nerve roots (pre-plexus)",
                    actions: "Elevates scapula, downward rotation"
                },
                {
                    name: "Serratus Anterior",
                    nerve: "Long thoracic nerve",
                    roots: "C5, C6, C7",
                    cords: "From nerve roots (pre-plexus)",
                    actions: "Protracts scapula, upward rotation, stabilizes scapula"
                },
                {
                    name: "Pectoralis Major (Clavicular)",
                    nerve: "Lateral pectoral nerve",
                    roots: "C5, C6, C7",
                    cords: "Lateral cord",
                    actions: "Shoulder flexion, adduction, horizontal adduction"
                },
                {
                    name: "Pectoralis Major (Sternocostal)",
                    nerve: "Medial pectoral nerve",
                    roots: "C8, T1",
                    cords: "Medial cord",
                    actions: "Shoulder adduction, extension, horizontal adduction"
                },
                {
                    name: "Pectoralis Minor",
                    nerve: "Medial pectoral nerve",
                    roots: "C8, T1",
                    cords: "Medial cord",
                    actions: "Depresses scapula, protracts scapula, downward rotation"
                },
                {
                    name: "Subclavius",
                    nerve: "Nerve to subclavius",
                    roots: "C5, C6",
                    cords: "Upper trunk",
                    actions: "Depresses clavicle, stabilizes sternoclavicular joint"
                },
                {
                    name: "Deltoid (Anterior)",
                    nerve: "Axillary nerve",
                    roots: "C5, C6",
                    cords: "Posterior cord",
                    actions: "Shoulder flexion, horizontal adduction"
                },
                {
                    name: "Deltoid (Middle)",
                    nerve: "Axillary nerve",
                    roots: "C5, C6",
                    cords: "Posterior cord",
                    actions: "Shoulder abduction"
                },
                {
                    name: "Deltoid (Posterior)",
                    nerve: "Axillary nerve",
                    roots: "C5, C6",
                    cords: "Posterior cord",
                    actions: "Shoulder extension, horizontal abduction"
                },
                {
                    name: "Supraspinatus",
                    nerve: "Suprascapular nerve",
                    roots: "C5, C6",
                    cords: "Upper trunk",
                    actions: "Shoulder abduction, stabilizes humeral head"
                },
                {
                    name: "Infraspinatus",
                    nerve: "Suprascapular nerve",
                    roots: "C5, C6",
                    cords: "Upper trunk",
                    actions: "Shoulder external rotation, stabilizes humeral head"
                },
                {
                    name: "Teres Minor",
                    nerve: "Axillary nerve",
                    roots: "C5, C6",
                    cords: "Posterior cord",
                    actions: "Shoulder external rotation, stabilizes humeral head"
                },
                {
                    name: "Subscapularis",
                    nerve: "Upper & lower subscapular nerves",
                    roots: "C5, C6, C7",
                    cords: "Posterior cord",
                    actions: "Shoulder internal rotation, stabilizes humeral head"
                },
                {
                    name: "Teres Major",
                    nerve: "Lower subscapular nerve",
                    roots: "C6, C7",
                    cords: "Posterior cord",
                    actions: "Shoulder adduction, extension, internal rotation"
                },
                {
                    name: "Latissimus Dorsi",
                    nerve: "Thoracodorsal nerve",
                    roots: "C6, C7, C8",
                    cords: "Posterior cord",
                    actions: "Shoulder adduction, extension, internal rotation"
                }
            ],
            arm: [
                {
                    name: "Biceps Brachii (Long Head)",
                    nerve: "Musculocutaneous nerve",
                    roots: "C5, C6, C7",
                    cords: "Lateral cord",
                    actions: "Elbow flexion, forearm supination, shoulder flexion"
                },
                {
                    name: "Biceps Brachii (Short Head)",
                    nerve: "Musculocutaneous nerve",
                    roots: "C5, C6, C7",
                    cords: "Lateral cord",
                    actions: "Elbow flexion, forearm supination, shoulder adduction"
                },
                {
                    name: "Brachialis",
                    nerve: "Musculocutaneous nerve + radial nerve",
                    roots: "C5, C6, C7 + C7, C8, T1",
                    cords: "Lateral cord + posterior cord",
                    actions: "Elbow flexion"
                },
                {
                    name: "Coracobrachialis",
                    nerve: "Musculocutaneous nerve",
                    roots: "C5, C6, C7",
                    cords: "Lateral cord",
                    actions: "Shoulder flexion, adduction"
                },
                {
                    name: "Triceps Brachii (Long Head)",
                    nerve: "Radial nerve",
                    roots: "C6, C7, C8, T1",
                    cords: "Posterior cord",
                    actions: "Elbow extension, shoulder extension, adduction"
                },
                {
                    name: "Triceps Brachii (Lateral Head)",
                    nerve: "Radial nerve",
                    roots: "C6, C7, C8, T1",
                    cords: "Posterior cord",
                    actions: "Elbow extension"
                },
                {
                    name: "Triceps Brachii (Medial Head)",
                    nerve: "Radial nerve",
                    roots: "C6, C7, C8, T1",
                    cords: "Posterior cord",
                    actions: "Elbow extension"
                },
                {
                    name: "Anconeus",
                    nerve: "Radial nerve",
                    roots: "C7, C8, T1",
                    cords: "Posterior cord",
                    actions: "Elbow extension, stabilizes elbow joint"
                }
            ],
            forearm: [
                {
                    name: "Pronator Teres",
                    nerve: "Median nerve",
                    roots: "C6, C7",
                    cords: "Lateral & medial cords",
                    actions: "Forearm pronation, elbow flexion"
                },
                {
                    name: "Flexor Carpi Radialis",
                    nerve: "Median nerve",
                    roots: "C6, C7",
                    cords: "Lateral & medial cords",
                    actions: "Wrist flexion, radial deviation"
                },
                {
                    name: "Palmaris Longus",
                    nerve: "Median nerve",
                    roots: "C7, C8",
                    cords: "Lateral & medial cords",
                    actions: "Wrist flexion, tenses palmar aponeurosis"
                },
                {
                    name: "Flexor Digitorum Superficialis",
                    nerve: "Median nerve",
                    roots: "C7, C8, T1",
                    cords: "Lateral & medial cords",
                    actions: "Finger PIP flexion, wrist flexion"
                },
                {
                    name: "Flexor Digitorum Profundus (Radial)",
                    nerve: "Anterior interosseous nerve (median)",
                    roots: "C8, T1",
                    cords: "Lateral & medial cords",
                    actions: "Finger DIP flexion (index, middle), wrist flexion"
                },
                {
                    name: "Flexor Digitorum Profundus (Ulnar)",
                    nerve: "Ulnar nerve",
                    roots: "C8, T1",
                    cords: "Medial cord",
                    actions: "Finger DIP flexion (ring, little), wrist flexion"
                },
                {
                    name: "Flexor Pollicis Longus",
                    nerve: "Anterior interosseous nerve (median)",
                    roots: "C8, T1",
                    cords: "Lateral & medial cords",
                    actions: "Thumb IP flexion, wrist flexion"
                },
                {
                    name: "Pronator Quadratus",
                    nerve: "Anterior interosseous nerve (median)",
                    roots: "C8, T1",
                    cords: "Lateral & medial cords",
                    actions: "Forearm pronation"
                },
                {
                    name: "Flexor Carpi Ulnaris",
                    nerve: "Ulnar nerve",
                    roots: "C7, C8, T1",
                    cords: "Medial cord",
                    actions: "Wrist flexion, ulnar deviation"
                },
                {
                    name: "Brachioradialis",
                    nerve: "Radial nerve",
                    roots: "C5, C6, C7",
                    cords: "Posterior cord",
                    actions: "Elbow flexion, forearm to neutral position"
                },
                {
                    name: "Extensor Carpi Radialis Longus",
                    nerve: "Radial nerve",
                    roots: "C6, C7",
                    cords: "Posterior cord",
                    actions: "Wrist extension, radial deviation"
                },
                {
                    name: "Extensor Carpi Radialis Brevis",
                    nerve: "Posterior interosseous nerve (radial)",
                    roots: "C7, C8",
                    cords: "Posterior cord",
                    actions: "Wrist extension, radial deviation"
                },
                {
                    name: "Extensor Digitorum",
                    nerve: "Posterior interosseous nerve (radial)",
                    roots: "C7, C8",
                    cords: "Posterior cord",
                    actions: "Finger extension, wrist extension"
                },
                {
                    name: "Extensor Digiti Minimi",
                    nerve: "Posterior interosseous nerve (radial)",
                    roots: "C7, C8",
                    cords: "Posterior cord",
                    actions: "Little finger extension"
                },
                {
                    name: "Extensor Carpi Ulnaris",
                    nerve: "Posterior interosseous nerve (radial)",
                    roots: "C7, C8",
                    cords: "Posterior cord",
                    actions: "Wrist extension, ulnar deviation"
                },
                {
                    name: "Supinator",
                    nerve: "Posterior interosseous nerve (radial)",
                    roots: "C7, C8",
                    cords: "Posterior cord",
                    actions: "Forearm supination"
                },
                {
                    name: "Abductor Pollicis Longus",
                    nerve: "Posterior interosseous nerve (radial)",
                    roots: "C7, C8",
                    cords: "Posterior cord",
                    actions: "Thumb abduction, wrist radial deviation"
                },
                {
                    name: "Extensor Pollicis Brevis",
                    nerve: "Posterior interosseous nerve (radial)",
                    roots: "C7, C8",
                    cords: "Posterior cord",
                    actions: "Thumb extension, abduction"
                },
                {
                    name: "Extensor Pollicis Longus",
                    nerve: "Posterior interosseous nerve (radial)",
                    roots: "C7, C8",
                    cords: "Posterior cord",
                    actions: "Thumb extension, adduction"
                },
                {
                    name: "Extensor Indicis",
                    nerve: "Posterior interosseous nerve (radial)",
                    roots: "C7, C8",
                    cords: "Posterior cord",
                    actions: "Index finger extension"
                }
            ],
            hand: [
                {
                    name: "Abductor Pollicis Brevis",
                    nerve: "Median nerve (recurrent branch)",
                    roots: "C8, T1",
                    cords: "Lateral & medial cords",
                    actions: "Thumb abduction"
                },
                {
                    name: "Flexor Pollicis Brevis (Superficial)",
                    nerve: "Median nerve (recurrent branch)",
                    roots: "C8, T1",
                    cords: "Lateral & medial cords",
                    actions: "Thumb MCP flexion"
                },
                {
                    name: "Flexor Pollicis Brevis (Deep)",
                    nerve: "Ulnar nerve (deep branch)",
                    roots: "C8, T1",
                    cords: "Medial cord",
                    actions: "Thumb MCP flexion"
                },
                {
                    name: "Opponens Pollicis",
                    nerve: "Median nerve (recurrent branch)",
                    roots: "C8, T1",
                    cords: "Lateral & medial cords",
                    actions: "Thumb opposition"
                },
                {
                    name: "Adductor Pollicis",
                    nerve: "Ulnar nerve (deep branch)",
                    roots: "C8, T1",
                    cords: "Medial cord",
                    actions: "Thumb adduction"
                },
                {
                    name: "Abductor Digiti Minimi",
                    nerve: "Ulnar nerve (deep branch)",
                    roots: "C8, T1",
                    cords: "Medial cord",
                    actions: "Little finger abduction"
                },
                {
                    name: "Flexor Digiti Minimi Brevis",
                    nerve: "Ulnar nerve (deep branch)",
                    roots: "C8, T1",
                    cords: "Medial cord",
                    actions: "Little finger MCP flexion"
                },
                {
                    name: "Opponens Digiti Minimi",
                    nerve: "Ulnar nerve (deep branch)",
                    roots: "C8, T1",
                    cords: "Medial cord",
                    actions: "Little finger opposition"
                },
                {
                    name: "Lumbricals (1st & 2nd)",
                    nerve: "Median nerve",
                    roots: "C8, T1",
                    cords: "Lateral & medial cords",
                    actions: "MCP flexion, IP extension (index, middle)"
                },
                {
                    name: "Lumbricals (3rd & 4th)",
                    nerve: "Ulnar nerve (deep branch)",
                    roots: "C8, T1",
                    cords: "Medial cord",
                    actions: "MCP flexion, IP extension (ring, little)"
                },
                {
                    name: "Palmar Interossei",
                    nerve: "Ulnar nerve (deep branch)",
                    roots: "C8, T1",
                    cords: "Medial cord",
                    actions: "Finger adduction toward middle finger"
                },
                {
                    name: "Dorsal Interossei",
                    nerve: "Ulnar nerve (deep branch)",
                    roots: "C8, T1",
                    cords: "Medial cord",
                    actions: "Finger abduction from middle finger"
                }
            ]
        };

        function switchTab(extremity) {
            currentTab = extremity;
            
            // Update tab buttons
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active', 'upper-extremity');
            });
            
            // Update content visibility
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // Update body, header, and elements based on current tab
            const body = document.body;
            const header = document.getElementById('main-header');
            const title = document.getElementById('main-title');
            const subtitle = document.getElementById('main-subtitle');
            const hideBtn = document.getElementById('hide-btn');
            
            if (extremity === 'upper') {
                // Activate upper extremity
                body.classList.add('upper-extremity');
                header.classList.add('upper-extremity');
                hideBtn.classList.add('upper-extremity');
                
                document.querySelector('.tab-btn:nth-child(2)').classList.add('active', 'upper-extremity');
                document.getElementById('upper-content').classList.add('active');
                
                title.textContent = 'Upper Extremity Muscle Anatomy';
                subtitle.textContent = 'Interactive study guide for brachial plexus innervated muscles';
                
                // Update all region titles and elements for upper extremity
                document.querySelectorAll('#upper-content .region-title').forEach(title => {
                    title.classList.add('upper-extremity');
                });
                
            } else {
                // Activate lower extremity
                body.classList.remove('upper-extremity');
                header.classList.remove('upper-extremity');
                hideBtn.classList.remove('upper-extremity');
                
                document.querySelector('.tab-btn:nth-child(1)').classList.add('active');
                document.getElementById('lower-content').classList.add('active');
                
                title.textContent = 'Lower Extremity Muscle Anatomy';
                subtitle.textContent = 'Interactive study guide for lower extremity muscles';
                
                // Remove upper extremity classes from lower content
                document.querySelectorAll('#lower-content .region-title').forEach(title => {
                    title.classList.remove('upper-extremity');
                });
            }
            
            // Re-initialize muscles for current tab
            initializeMuscles();
        }

        function createMuscleCard(muscle, isUpperExtremity = false) {
            const muscleEmoji = getMuscleEmoji(muscle.name, isUpperExtremity);
            
            // Determine if this muscle has cords (upper extremity)
            const hasCordsField = muscle.hasOwnProperty('cords');
            
            // Try multiple image sources for better reliability
            const imageSources = [
                'https://upload.wikimedia.org/wikipedia/commons/b/b1/Gray430.png',
                'https://upload.wikimedia.org/wikipedia/commons/8/80/Gray428.png',
                'https://upload.wikimedia.org/wikipedia/commons/c/c1/Gray432.png',
                'https://upload.wikimedia.org/wikipedia/commons/4/4a/Gray434.png'
            ];
            
            const randomImage = imageSources[Math.floor(Math.random() * imageSources.length)];
            
            return `
                <div class="muscle-card">
                    <div class="muscle-image-container">
                        <img src="${randomImage}" 
                             alt="${muscle.name} anatomy" 
                             class="muscle-image" 
                             loading="lazy"
                             crossorigin="anonymous"
                             referrerpolicy="no-referrer"
                             onload="this.style.display='block'; this.parentElement.querySelector('.placeholder-image').style.display='none';"
                             onerror="this.style.display='none'; this.parentElement.querySelector('.placeholder-image').style.display='flex'; console.log('Image failed to load: ${randomImage}');">
                        <div class="placeholder-image ${isUpperExtremity ? 'upper-extremity' : ''}" style="display: flex;">
                            <div style="text-align: center;">
                                <div style="font-size: 32px; margin-bottom: 10px;">${muscleEmoji}</div>
                                <div style="font-weight: bold; margin-bottom: 5px;">${muscle.name}</div>
                                <div style="font-size: 11px; opacity: 0.7; margin-top: 5px;">Image: Gray's Anatomy (1918)</div>
                            </div>
                        </div>
                        <div class="image-source">Gray's Anatomy (1918)</div>
                    </div>
                    <div class="muscle-content">
                        <div class="muscle-name ${isUpperExtremity ? 'upper-extremity' : ''}">${muscle.name}</div>
                        <div class="muscle-details">
                            <div class="detail-row">
                                <span class="detail-label ${isUpperExtremity ? 'upper-extremity' : ''}">Nerve:</span>
                                <span class="detail-content hidden">[Click to reveal]</span>
                                <button class="reveal-btn" onclick="toggleReveal(this, '${muscle.nerve.replace(/'/g, '&#39;')}')">Reveal</button>
                            </div>
                            <div class="detail-row">
                                <span class="detail-label ${isUpperExtremity ? 'upper-extremity' : ''}">Roots:</span>
                                <span class="detail-content hidden">[Click to reveal]</span>
                                <button class="reveal-btn" onclick="toggleReveal(this, '${muscle.roots.replace(/'/g, '&#39;')}')">Reveal</button>
                            </div>
                            ${hasCordsField ? `
                            <div class="detail-row">
                                <span class="detail-label ${isUpperExtremity ? 'upper-extremity' : ''}">Cords:</span>
                                <span class="detail-content hidden">[Click to reveal]</span>
                                <button class="reveal-btn" onclick="toggleReveal(this, '${muscle.cords.replace(/'/g, '&#39;')}')">Reveal</button>
                            </div>
                            ` : ''}
                            <div class="detail-row">
                                <span class="detail-label ${isUpperExtremity ? 'upper-extremity' : ''}">Actions:</span>
                                <span class="detail-content hidden">[Click to reveal]</span>
                                <button class="reveal-btn" onclick="toggleReveal(this, '${muscle.actions.replace(/'/g, '&#39;')}')">Reveal</button>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function getMuscleEmoji(muscleName, isUpperExtremity = false) {
            if (isUpperExtremity) {
                // Upper extremity emojis
                if (muscleName.toLowerCase().includes('trap') || muscleName.toLowerCase().includes('rhomboid') || 
                    muscleName.toLowerCase().includes('levator') || muscleName.toLowerCase().includes('serratus')) {
                    return '🫸'; // Shoulder/scapular muscles
                } else if (muscleName.toLowerCase().includes('flex') || muscleName.toLowerCase().includes('extensor') ||
                          muscleName.toLowerCase().includes('pronator') || muscleName.toLowerCase().includes('supinator') ||
                          muscleName.toLowerCase().includes('brachioradialis') || muscleName.toLowerCase().includes('carpi')) {
                    return '🤏'; // Forearm muscles
                } else if (muscleName.toLowerCase().includes('pollicis') || muscleName.toLowerCase().includes('thenar') ||
                          muscleName.toLowerCase().includes('hypothenar') || muscleName.toLowerCase().includes('lumbrical') ||
                          muscleName.toLowerCase().includes('inteross') || muscleName.toLowerCase().includes('digiti')) {
                    return '✋'; // Hand muscles
                } else {
                    return '💪'; // Default arm/shoulder muscles
                }
            } else {
                // Lower extremity emojis
                if (muscleName.toLowerCase().includes('gluteus') || muscleName.toLowerCase().includes('piriformis')) {
                    return '🍑'; // Gluteal muscles
                } else if (muscleName.toLowerCase().includes('gastrocnemius') || muscleName.toLowerCase().includes('soleus')) {
                    return '🦵'; // Calf muscles
                } else if (muscleName.toLowerCase().includes('foot') || muscleName.toLowerCase().includes('toe') || 
                          muscleName.toLowerCase().includes('hallucis') || muscleName.toLowerCase().includes('digitorum')) {
                    return '🦶'; // Foot muscles
                } else if (muscleName.toLowerCase().includes('hamstring') || muscleName.toLowerCase().includes('biceps femoris') || 
                          muscleName.toLowerCase().includes('semi')) {
                    return '🏃'; // Hamstrings
                } else {
                    return '🦵'; // Default leg emoji
                }
            }
        }

        function toggleReveal(button, content) {
            const detailContent = button.previousElementSibling;
            
            if (detailContent.classList.contains('hidden')) {
                detailContent.textContent = content;
                detailContent.classList.remove('hidden');
                detailContent.classList.add('revealed');
                button.textContent = 'Hide';
                button.classList.add('revealed');
            } else {
                detailContent.textContent = '[Click to reveal]';
                detailContent.classList.add('hidden');
                detailContent.classList.remove('revealed');
                button.textContent = 'Reveal';
                button.classList.remove('revealed');
            }
        }

        function hideAllAnswers() {
            document.querySelectorAll('.detail-content').forEach(content => {
                content.textContent = '[Click to reveal]';
                content.classList.add('hidden');
                content.classList.remove('revealed');
            });
            
            document.querySelectorAll('.reveal-btn').forEach(btn => {
                btn.textContent = 'Reveal';
                btn.classList.remove('revealed');
            });
        }

        function revealAllAnswers() {
            document.querySelectorAll('.muscle-card').forEach(card => {
                const buttons = card.querySelectorAll('.reveal-btn');
                buttons.forEach(button => {
                    if (!button.classList.contains('revealed')) {
                        button.click();
                    }
                });
            });
        }

        function initializeMuscles() {
            if (currentTab === 'lower') {
                const regions = ['gluteal', 'thigh', 'leg', 'foot'];
                regions.forEach(region => {
                    const container = document.getElementById(region + '-muscles');
                    const muscles = lowerExtremityData[region];
                    container.innerHTML = muscles.map(muscle => createMuscleCard(muscle, false)).join('');
                });
            } else {
                const regions = ['shoulder', 'arm', 'forearm', 'hand'];
                regions.forEach(region => {
                    const container = document.getElementById(region + '-muscles');
                    const muscles = upperExtremityData[region];
                    container.innerHTML = muscles.map(muscle => createMuscleCard(muscle, true)).join('');
                });
            }
        }

        window.addEventListener('DOMContentLoaded', function() {
            initializeMuscles();
        });
    </script>
</body>
</html>